/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/recipes/route";
exports.ids = ["app/api/recipes/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecipes%2Froute&page=%2Fapi%2Frecipes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecipes%2Froute.ts&appDir=%2FUsers%2Fnicolaivarney%2FSites2%2Ffunctionalfoods%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnicolaivarney%2FSites2%2Ffunctionalfoods&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecipes%2Froute&page=%2Fapi%2Frecipes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecipes%2Froute.ts&appDir=%2FUsers%2Fnicolaivarney%2FSites2%2Ffunctionalfoods%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnicolaivarney%2FSites2%2Ffunctionalfoods&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_nicolaivarney_Sites2_functionalfoods_src_app_api_recipes_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/recipes/route.ts */ \"(rsc)/./src/app/api/recipes/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/recipes/route\",\n        pathname: \"/api/recipes\",\n        filename: \"route\",\n        bundlePath: \"app/api/recipes/route\"\n    },\n    resolvedPagePath: \"/Users/nicolaivarney/Sites2/functionalfoods/src/app/api/recipes/route.ts\",\n    nextConfigOutput,\n    userland: _Users_nicolaivarney_Sites2_functionalfoods_src_app_api_recipes_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/recipes/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZWNpcGVzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZyZWNpcGVzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGcmVjaXBlcyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRm5pY29sYWl2YXJuZXklMkZTaXRlczIlMkZmdW5jdGlvbmFsZm9vZHMlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGbmljb2xhaXZhcm5leSUyRlNpdGVzMiUyRmZ1bmN0aW9uYWxmb29kcyZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QjtBQUNyRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1bmN0aW9uYWxmb29kcy8/ZDNmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvbmljb2xhaXZhcm5leS9TaXRlczIvZnVuY3Rpb25hbGZvb2RzL3NyYy9hcHAvYXBpL3JlY2lwZXMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3JlY2lwZXMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9yZWNpcGVzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yZWNpcGVzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL25pY29sYWl2YXJuZXkvU2l0ZXMyL2Z1bmN0aW9uYWxmb29kcy9zcmMvYXBwL2FwaS9yZWNpcGVzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3JlY2lwZXMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecipes%2Froute&page=%2Fapi%2Frecipes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecipes%2Froute.ts&appDir=%2FUsers%2Fnicolaivarney%2FSites2%2Ffunctionalfoods%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnicolaivarney%2FSites2%2Ffunctionalfoods&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/recipes/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/recipes/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_database_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/database-service */ \"(rsc)/./src/lib/database-service.ts\");\n\n\nasync function GET() {\n    try {\n        const recipes = await _lib_database_service__WEBPACK_IMPORTED_MODULE_1__.databaseService.getRecipes();\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json(recipes);\n    } catch (error) {\n        console.error(\"Error fetching recipes:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch recipes\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9yZWNpcGVzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwQztBQUNjO0FBRWpELGVBQWVFO0lBQ3BCLElBQUk7UUFDRixNQUFNQyxVQUFVLE1BQU1GLGtFQUFlQSxDQUFDRyxVQUFVO1FBQ2hELE9BQU9KLGtGQUFZQSxDQUFDSyxJQUFJLENBQUNGO0lBQzNCLEVBQUUsT0FBT0csT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtRQUN6QyxPQUFPTixrRkFBWUEsQ0FBQ0ssSUFBSSxDQUN0QjtZQUFFQyxPQUFPO1FBQTBCLEdBQ25DO1lBQUVFLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnVuY3Rpb25hbGZvb2RzLy4vc3JjL2FwcC9hcGkvcmVjaXBlcy9yb3V0ZS50cz82MjBmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgZGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSAnQC9saWIvZGF0YWJhc2Utc2VydmljZSdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZWNpcGVzID0gYXdhaXQgZGF0YWJhc2VTZXJ2aWNlLmdldFJlY2lwZXMoKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZWNpcGVzKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHJlY2lwZXM6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCByZWNpcGVzJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJkYXRhYmFzZVNlcnZpY2UiLCJHRVQiLCJyZWNpcGVzIiwiZ2V0UmVjaXBlcyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/recipes/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/database-service.ts":
/*!*************************************!*\
  !*** ./src/lib/database-service.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseService: () => (/* binding */ DatabaseService),\n/* harmony export */   databaseService: () => (/* binding */ databaseService)\n/* harmony export */ });\n/* harmony import */ var _supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./supabase */ \"(rsc)/./src/lib/supabase.ts\");\n\nclass DatabaseService {\n    /**\n   * Get all recipes from database\n   */ async getRecipes() {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"recipes\").select(\"*\");\n        if (error) {\n            console.error(\"Error fetching recipes:\", error);\n            return [];\n        }\n        console.log(`🔍 Raw database data: ${data?.length || 0} recipes found`);\n        if (data && data.length > 0) {\n            console.log(\"\\uD83D\\uDCCB First raw recipe from DB:\", {\n                id: data[0].id,\n                title: data[0].title,\n                imageurl: data[0].imageurl,\n                totaltime: data[0].totaltime\n            });\n        }\n        // Transform snake_case database fields to camelCase for frontend\n        const transformedRecipes = (data || []).map((recipe)=>({\n                id: recipe.id,\n                title: recipe.title,\n                description: recipe.description,\n                shortDescription: recipe.shortdescription,\n                imageUrl: recipe.imageurl,\n                imageAlt: recipe.imagealt,\n                preparationTime: recipe.preparationtime,\n                cookingTime: recipe.cookingtime,\n                totalTime: recipe.totaltime,\n                servings: recipe.servings,\n                difficulty: recipe.difficulty,\n                calories: recipe.calories,\n                protein: recipe.protein,\n                carbs: recipe.carbs,\n                fat: recipe.fat,\n                fiber: recipe.fiber,\n                dietaryCategories: recipe.dietarycategories || [],\n                mainCategory: recipe.maincategory,\n                subCategories: recipe.subcategories || [],\n                ingredients: recipe.ingredients || [],\n                instructions: recipe.instructions || [],\n                publishedAt: recipe.publishedat ? new Date(recipe.publishedat) : new Date(),\n                updatedAt: recipe.updatedat ? new Date(recipe.updatedat) : new Date(),\n                metaTitle: recipe.metatitle,\n                metaDescription: recipe.metadescription,\n                keywords: recipe.keywords || [],\n                author: recipe.author,\n                slug: recipe.slug,\n                rating: recipe.rating,\n                reviewCount: recipe.reviewcount,\n                prepTimeISO: recipe.preptimeiso,\n                cookTimeISO: recipe.cooktimeiso,\n                totalTimeISO: recipe.totaltimeiso\n            }));\n        console.log(`✅ Transformed ${transformedRecipes.length} recipes for frontend`);\n        return transformedRecipes;\n    }\n    /**\n   * Get all ingredients from database\n   */ async getIngredients() {\n        const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ingredients\").select(\"*\");\n        if (error) {\n            console.error(\"Error fetching ingredients:\", error);\n            return [];\n        }\n        // Transform snake_case database fields to camelCase for frontend\n        const transformedIngredients = (data || []).map((ingredient)=>({\n                id: ingredient.id,\n                name: ingredient.name,\n                category: ingredient.category,\n                description: ingredient.description,\n                exclusions: ingredient.exclusions || [],\n                allergens: ingredient.allergens || [],\n                commonNames: ingredient.common_names || [],\n                isActive: ingredient.is_active ?? true,\n                createdAt: new Date(ingredient.created_at),\n                updatedAt: new Date(ingredient.updated_at || ingredient.created_at)\n            }));\n        return transformedIngredients;\n    }\n    /**\n   * Generate unique IDs for recipes that don't have one\n   */ async assignUniqueIds(recipes) {\n        // SIMPLE: Generate IDs only for recipes without IDs, starting from 1000\n        let nextId = 1000;\n        // Check existing recipes to find highest ID\n        const { data: existingRecipes } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"recipes\").select(\"id\");\n        if (existingRecipes) {\n            const numericIds = existingRecipes.map((r)=>parseInt(r.id)).filter((id)=>!isNaN(id) && id > 0 && id < 10000) // Only use reasonable numeric IDs (1-9999), not timestamps\n            ;\n            if (numericIds.length > 0) {\n                nextId = Math.max(...numericIds) + 1;\n                console.log(`🔍 Found numeric IDs: [${numericIds.join(\", \")}], using nextId: ${nextId}`);\n            } else {\n                console.log(`🔍 No valid numeric IDs found, starting from: ${nextId}`);\n            }\n        }\n        return recipes.map((recipe)=>{\n            if (!recipe.id || recipe.id === \"\") {\n                const newId = nextId.toString();\n                console.log(`🆔 Assigning ID ${newId} to recipe: ${recipe.title}`);\n                nextId++;\n                return {\n                    ...recipe,\n                    id: newId\n                };\n            }\n            return recipe;\n        });\n    }\n    /**\n   * Save recipes to database (using only existing columns)\n   */ async saveRecipes(recipes) {\n        try {\n            console.log(`💾 Attempting to save ${recipes.length} recipes...`);\n            // Assign unique IDs to recipes that don't have one\n            const recipesWithIds = await this.assignUniqueIds(recipes);\n            // Filter recipes to only include columns that exist in the database\n            const filteredRecipes = recipesWithIds.map((recipe)=>{\n                const filteredRecipe = {\n                    id: recipe.id,\n                    title: recipe.title,\n                    description: recipe.description,\n                    calories: recipe.calories || 0,\n                    protein: recipe.protein || 0,\n                    carbs: recipe.carbs || 0,\n                    fat: recipe.fat || 0,\n                    fiber: recipe.fiber || 0,\n                    keywords: recipe.keywords,\n                    ingredients: recipe.ingredients,\n                    instructions: recipe.instructions,\n                    servings: recipe.servings || 2,\n                    difficulty: recipe.difficulty || \"Nem\",\n                    author: recipe.author || \"Functional Foods\"\n                };\n                // Add optional fields if they exist (only include columns we know exist)\n                if (recipe.slug) filteredRecipe.slug = recipe.slug;\n                // Add default values for fields that frontend expects but don't exist in database\n                filteredRecipe.shortdescription = recipe.shortDescription || null;\n                filteredRecipe.preparationtime = recipe.preparationTime || 0;\n                filteredRecipe.cookingtime = recipe.cookingTime || 0;\n                filteredRecipe.totaltime = recipe.totalTime || (recipe.preparationTime || 0) + (recipe.cookingTime || 0);\n                filteredRecipe.metatitle = recipe.metaTitle || null;\n                filteredRecipe.metadescription = recipe.metaDescription || null;\n                filteredRecipe.maincategory = recipe.mainCategory || null;\n                filteredRecipe.subcategories = recipe.subCategories || null;\n                filteredRecipe.dietarycategories = recipe.dietaryCategories && recipe.dietaryCategories.length > 0 ? recipe.dietaryCategories : null;\n                filteredRecipe.imageurl = recipe.imageUrl || \"/images/recipe-placeholder.jpg\";\n                filteredRecipe.imagealt = recipe.imageAlt || null;\n                filteredRecipe.publishedat = recipe.publishedAt ? typeof recipe.publishedAt === \"string\" ? recipe.publishedAt : recipe.publishedAt.toISOString() : new Date().toISOString();\n                filteredRecipe.updatedat = recipe.updatedAt ? typeof recipe.updatedAt === \"string\" ? recipe.updatedAt : recipe.updatedAt.toISOString() : new Date().toISOString();\n                filteredRecipe.rating = recipe.rating || null;\n                filteredRecipe.reviewcount = recipe.reviewCount || null;\n                filteredRecipe.preptimeiso = recipe.prepTimeISO || null;\n                filteredRecipe.cooktimeiso = recipe.cookTimeISO || null;\n                filteredRecipe.totaltimeiso = recipe.totalTimeISO || null;\n                // Note: nutritionalinfo column doesn't exist yet - store in description for now\n                if (recipe.nutritionalInfo) {\n                    filteredRecipe.description = recipe.description + ` [Frida DTU: ${Math.round(recipe.nutritionalInfo.calories)} cal, ${Math.round(recipe.nutritionalInfo.protein)}g protein]`;\n                }\n                return filteredRecipe;\n            });\n            // Log the first recipe structure for debugging\n            if (filteredRecipes.length > 0) {\n                console.log(\"\\uD83D\\uDCCB First filtered recipe structure:\", JSON.stringify(filteredRecipes[0], null, 2));\n            }\n            const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"recipes\").insert(filteredRecipes);\n            if (error) {\n                console.error(\"❌ Error saving recipes:\", error);\n                console.error(\"Error details:\", {\n                    message: error.message,\n                    details: error.details,\n                    hint: error.hint,\n                    code: error.code\n                });\n                return false;\n            }\n            console.log(`✅ Successfully saved ${recipes.length} recipes to database`);\n            return true;\n        } catch (err) {\n            console.error(\"❌ Exception saving recipes:\", err);\n            return false;\n        }\n    }\n    /**\n   * Save ingredients to database (using only existing columns)\n   */ async saveIngredients(ingredients) {\n        try {\n            console.log(`💾 Attempting to save ${ingredients.length} ingredients...`);\n            // Filter ingredients to only include columns that exist in the database\n            const filteredIngredients = ingredients.map((ingredient)=>{\n                const filteredIngredient = {\n                    id: ingredient.id,\n                    name: ingredient.name,\n                    category: ingredient.category,\n                    description: ingredient.description\n                };\n                // Add optional fields if they exist (only include columns we know exist)\n                if (ingredient.exclusions) filteredIngredient.exclusions = ingredient.exclusions;\n                if (ingredient.allergens) filteredIngredient.allergens = ingredient.allergens;\n                // Note: commonNames, isActive, createdAt, updatedAt, nutritionalInfo columns don't exist in the database\n                // so we exclude them to prevent errors\n                return filteredIngredient;\n            });\n            // Log the first ingredient structure for debugging\n            if (filteredIngredients.length > 0) {\n                console.log(\"\\uD83D\\uDCCB First filtered ingredient structure:\", JSON.stringify(filteredIngredients[0], null, 2));\n            }\n            const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ingredients\").upsert(filteredIngredients, {\n                onConflict: \"id\"\n            });\n            if (error) {\n                console.error(\"❌ Error saving ingredients:\", error);\n                console.error(\"Error details:\", {\n                    message: error.message,\n                    details: error.details,\n                    hint: error.hint,\n                    code: error.code\n                });\n                return false;\n            }\n            console.log(`✅ Successfully saved ${ingredients.length} ingredients to database`);\n            return true;\n        } catch (err) {\n            console.error(\"❌ Exception saving ingredients:\", err);\n            return false;\n        }\n    }\n    /**\n   * Check database tables exist\n   */ async checkDatabaseStructure() {\n        try {\n            console.log(\"\\uD83D\\uDD0D Checking database structure...\");\n            // Test if tables exist\n            const { data: recipesTable, error: recipesError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"recipes\").select(\"count\", {\n                count: \"exact\",\n                head: true\n            });\n            const { data: ingredientsTable, error: ingredientsError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ingredients\").select(\"count\", {\n                count: \"exact\",\n                head: true\n            });\n            const structure = {\n                recipesTable: {\n                    exists: !recipesError,\n                    error: recipesError?.message || null\n                },\n                ingredientsTable: {\n                    exists: !ingredientsError,\n                    error: ingredientsError?.message || null\n                }\n            };\n            console.log(\"\\uD83D\\uDCCA Database structure check:\", structure);\n            return structure;\n        } catch (err) {\n            console.error(\"❌ Error checking database structure:\", err);\n            return {\n                error: err\n            };\n        }\n    }\n    /**\n   * Get database statistics\n   */ async getDatabaseStats() {\n        try {\n            const { count: recipeCount, error: recipeError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"recipes\").select(\"*\", {\n                count: \"exact\",\n                head: true\n            });\n            const { count: ingredientCount, error: ingredientError } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"ingredients\").select(\"*\", {\n                count: \"exact\",\n                head: true\n            });\n            if (recipeError || ingredientError) {\n                console.error(\"Error fetching database stats:\", recipeError || ingredientError);\n                return {\n                    recipeCount: 0,\n                    ingredientCount: 0\n                };\n            }\n            return {\n                recipeCount: recipeCount || 0,\n                ingredientCount: ingredientCount || 0\n            };\n        } catch (err) {\n            console.error(\"❌ Error getting database stats:\", err);\n            return {\n                recipeCount: 0,\n                ingredientCount: 0\n            };\n        }\n    }\n    /**\n   * Test database connection\n   */ async testConnection() {\n        try {\n            console.log(\"\\uD83D\\uDD0D Testing Supabase connection...\");\n            const { data, error } = await _supabase__WEBPACK_IMPORTED_MODULE_0__.supabase.from(\"recipes\").select(\"count\", {\n                count: \"exact\",\n                head: true\n            });\n            if (error) {\n                console.error(\"❌ Connection test failed:\", error);\n                return false;\n            }\n            console.log(\"✅ Supabase connection successful!\");\n            return true;\n        } catch (err) {\n            console.error(\"❌ Connection test exception:\", err);\n            return false;\n        }\n    }\n}\nconst databaseService = new DatabaseService();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dCQUMvRCxPQUFPO29CQUFFSCxhQUFhO29CQUFHRSxpQkFBaUI7Z0JBQUU7WUFDOUM7WUFFQSxPQUFPO2dCQUFFRixhQUFhQSxlQUFlO2dCQUFHRSxpQkFBaUJBLG1CQUFtQjtZQUFFO1FBQ2hGLEVBQUUsT0FBT2xCLEtBQUs7WUFDWm5HLFFBQVFILEtBQUssQ0FBQyxtQ0FBbUNzRztZQUNqRCxPQUFPO2dCQUFFZ0IsYUFBYTtnQkFBR0UsaUJBQWlCO1lBQUU7UUFDOUM7SUFDRjtJQUVBOztHQUVDLEdBQ0QsTUFBTUUsaUJBQW1DO1FBQ3ZDLElBQUk7WUFDRnZILFFBQVFDLEdBQUcsQ0FBQztZQUNaLE1BQU0sRUFBRUwsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNSiwrQ0FBUUEsQ0FBQ0ssSUFBSSxDQUFDLFdBQVdDLE1BQU0sQ0FBQyxTQUFTO2dCQUFFNkcsT0FBTztnQkFBU0MsTUFBTTtZQUFLO1lBQ3BHLElBQUloSCxPQUFPO2dCQUNURyxRQUFRSCxLQUFLLENBQUMsNkJBQTZCQTtnQkFDM0MsT0FBTztZQUNUO1lBQ0FHLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU87UUFDVCxFQUFFLE9BQU9rRyxLQUFLO1lBQ1puRyxRQUFRSCxLQUFLLENBQUMsZ0NBQWdDc0c7WUFDOUMsT0FBTztRQUNUO0lBQ0Y7QUFDRjtBQUVPLE1BQU1xQixrQkFBa0IsSUFBSTlILGtCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Z1bmN0aW9uYWxmb29kcy8uL3NyYy9saWIvZGF0YWJhc2Utc2VydmljZS50cz84NzA1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi9zdXBhYmFzZSdcbmltcG9ydCB7IFJlY2lwZSB9IGZyb20gJ0AvdHlwZXMvcmVjaXBlJ1xuaW1wb3J0IHsgSW5ncmVkaWVudFRhZyB9IGZyb20gJ0AvbGliL2luZ3JlZGllbnQtc3lzdGVtL3R5cGVzJ1xuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2VTZXJ2aWNlIHtcbiAgLyoqXG4gICAqIEdldCBhbGwgcmVjaXBlcyBmcm9tIGRhdGFiYXNlXG4gICAqL1xuICBhc3luYyBnZXRSZWNpcGVzKCk6IFByb21pc2U8UmVjaXBlW10+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3JlY2lwZXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyByZWNpcGVzOicsIGVycm9yKVxuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGDwn5SNIFJhdyBkYXRhYmFzZSBkYXRhOiAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWNpcGVzIGZvdW5kYClcbiAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OLIEZpcnN0IHJhdyByZWNpcGUgZnJvbSBEQjonLCB7XG4gICAgICAgIGlkOiBkYXRhWzBdLmlkLFxuICAgICAgICB0aXRsZTogZGF0YVswXS50aXRsZSxcbiAgICAgICAgaW1hZ2V1cmw6IGRhdGFbMF0uaW1hZ2V1cmwsXG4gICAgICAgIHRvdGFsdGltZTogZGF0YVswXS50b3RhbHRpbWVcbiAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIC8vIFRyYW5zZm9ybSBzbmFrZV9jYXNlIGRhdGFiYXNlIGZpZWxkcyB0byBjYW1lbENhc2UgZm9yIGZyb250ZW5kXG4gICAgY29uc3QgdHJhbnNmb3JtZWRSZWNpcGVzID0gKGRhdGEgfHwgW10pLm1hcChyZWNpcGUgPT4gKHtcbiAgICAgIGlkOiByZWNpcGUuaWQsXG4gICAgICB0aXRsZTogcmVjaXBlLnRpdGxlLFxuICAgICAgZGVzY3JpcHRpb246IHJlY2lwZS5kZXNjcmlwdGlvbixcbiAgICAgIHNob3J0RGVzY3JpcHRpb246IHJlY2lwZS5zaG9ydGRlc2NyaXB0aW9uLFxuICAgICAgaW1hZ2VVcmw6IHJlY2lwZS5pbWFnZXVybCxcbiAgICAgIGltYWdlQWx0OiByZWNpcGUuaW1hZ2VhbHQsXG4gICAgICBwcmVwYXJhdGlvblRpbWU6IHJlY2lwZS5wcmVwYXJhdGlvbnRpbWUsXG4gICAgICBjb29raW5nVGltZTogcmVjaXBlLmNvb2tpbmd0aW1lLFxuICAgICAgdG90YWxUaW1lOiByZWNpcGUudG90YWx0aW1lLFxuICAgICAgc2VydmluZ3M6IHJlY2lwZS5zZXJ2aW5ncyxcbiAgICAgIGRpZmZpY3VsdHk6IHJlY2lwZS5kaWZmaWN1bHR5LFxuICAgICAgY2Fsb3JpZXM6IHJlY2lwZS5jYWxvcmllcyxcbiAgICAgIHByb3RlaW46IHJlY2lwZS5wcm90ZWluLFxuICAgICAgY2FyYnM6IHJlY2lwZS5jYXJicyxcbiAgICAgIGZhdDogcmVjaXBlLmZhdCxcbiAgICAgIGZpYmVyOiByZWNpcGUuZmliZXIsXG4gICAgICBkaWV0YXJ5Q2F0ZWdvcmllczogcmVjaXBlLmRpZXRhcnljYXRlZ29yaWVzIHx8IFtdLFxuICAgICAgbWFpbkNhdGVnb3J5OiByZWNpcGUubWFpbmNhdGVnb3J5LFxuICAgICAgc3ViQ2F0ZWdvcmllczogcmVjaXBlLnN1YmNhdGVnb3JpZXMgfHwgW10sXG4gICAgICBpbmdyZWRpZW50czogcmVjaXBlLmluZ3JlZGllbnRzIHx8IFtdLFxuICAgICAgaW5zdHJ1Y3Rpb25zOiByZWNpcGUuaW5zdHJ1Y3Rpb25zIHx8IFtdLFxuICAgICAgcHVibGlzaGVkQXQ6IHJlY2lwZS5wdWJsaXNoZWRhdCA/IG5ldyBEYXRlKHJlY2lwZS5wdWJsaXNoZWRhdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgdXBkYXRlZEF0OiByZWNpcGUudXBkYXRlZGF0ID8gbmV3IERhdGUocmVjaXBlLnVwZGF0ZWRhdCkgOiBuZXcgRGF0ZSgpLFxuICAgICAgbWV0YVRpdGxlOiByZWNpcGUubWV0YXRpdGxlLFxuICAgICAgbWV0YURlc2NyaXB0aW9uOiByZWNpcGUubWV0YWRlc2NyaXB0aW9uLFxuICAgICAga2V5d29yZHM6IHJlY2lwZS5rZXl3b3JkcyB8fCBbXSxcbiAgICAgIGF1dGhvcjogcmVjaXBlLmF1dGhvcixcbiAgICAgIHNsdWc6IHJlY2lwZS5zbHVnLFxuICAgICAgcmF0aW5nOiByZWNpcGUucmF0aW5nLFxuICAgICAgcmV2aWV3Q291bnQ6IHJlY2lwZS5yZXZpZXdjb3VudCxcbiAgICAgIHByZXBUaW1lSVNPOiByZWNpcGUucHJlcHRpbWVpc28sXG4gICAgICBjb29rVGltZUlTTzogcmVjaXBlLmNvb2t0aW1laXNvLFxuICAgICAgdG90YWxUaW1lSVNPOiByZWNpcGUudG90YWx0aW1laXNvLFxuICAgICAgLy8gbnV0cml0aW9uYWxJbmZvOiByZWNpcGUubnV0cml0aW9uYWxpbmZvIC8vIENvbHVtbiBkb2Vzbid0IGV4aXN0IHlldFxuICAgIH0pKVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGDinIUgVHJhbnNmb3JtZWQgJHt0cmFuc2Zvcm1lZFJlY2lwZXMubGVuZ3RofSByZWNpcGVzIGZvciBmcm9udGVuZGApXG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkUmVjaXBlc1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgaW5ncmVkaWVudHMgZnJvbSBkYXRhYmFzZVxuICAgKi9cbiAgYXN5bmMgZ2V0SW5ncmVkaWVudHMoKTogUHJvbWlzZTxJbmdyZWRpZW50VGFnW10+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2luZ3JlZGllbnRzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgaW5ncmVkaWVudHM6JywgZXJyb3IpXG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gICAgXG4gICAgLy8gVHJhbnNmb3JtIHNuYWtlX2Nhc2UgZGF0YWJhc2UgZmllbGRzIHRvIGNhbWVsQ2FzZSBmb3IgZnJvbnRlbmRcbiAgICBjb25zdCB0cmFuc2Zvcm1lZEluZ3JlZGllbnRzID0gKGRhdGEgfHwgW10pLm1hcChpbmdyZWRpZW50ID0+ICh7XG4gICAgICBpZDogaW5ncmVkaWVudC5pZCxcbiAgICAgIG5hbWU6IGluZ3JlZGllbnQubmFtZSxcbiAgICAgIGNhdGVnb3J5OiBpbmdyZWRpZW50LmNhdGVnb3J5LFxuICAgICAgZGVzY3JpcHRpb246IGluZ3JlZGllbnQuZGVzY3JpcHRpb24sXG4gICAgICBleGNsdXNpb25zOiBpbmdyZWRpZW50LmV4Y2x1c2lvbnMgfHwgW10sXG4gICAgICBhbGxlcmdlbnM6IGluZ3JlZGllbnQuYWxsZXJnZW5zIHx8IFtdLFxuICAgICAgY29tbW9uTmFtZXM6IGluZ3JlZGllbnQuY29tbW9uX25hbWVzIHx8IFtdLFxuICAgICAgaXNBY3RpdmU6IGluZ3JlZGllbnQuaXNfYWN0aXZlID8/IHRydWUsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGluZ3JlZGllbnQuY3JlYXRlZF9hdCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKGluZ3JlZGllbnQudXBkYXRlZF9hdCB8fCBpbmdyZWRpZW50LmNyZWF0ZWRfYXQpXG4gICAgfSkpXG4gICAgXG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkSW5ncmVkaWVudHNcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB1bmlxdWUgSURzIGZvciByZWNpcGVzIHRoYXQgZG9uJ3QgaGF2ZSBvbmVcbiAgICovXG4gIGFzeW5jIGFzc2lnblVuaXF1ZUlkcyhyZWNpcGVzOiBSZWNpcGVbXSk6IFByb21pc2U8UmVjaXBlW10+IHtcbiAgICAvLyBTSU1QTEU6IEdlbmVyYXRlIElEcyBvbmx5IGZvciByZWNpcGVzIHdpdGhvdXQgSURzLCBzdGFydGluZyBmcm9tIDEwMDBcbiAgICBsZXQgbmV4dElkID0gMTAwMFxuICAgIFxuICAgIC8vIENoZWNrIGV4aXN0aW5nIHJlY2lwZXMgdG8gZmluZCBoaWdoZXN0IElEXG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1JlY2lwZXMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgncmVjaXBlcycpXG4gICAgICAuc2VsZWN0KCdpZCcpXG4gICAgXG4gICAgaWYgKGV4aXN0aW5nUmVjaXBlcykge1xuICAgICAgY29uc3QgbnVtZXJpY0lkcyA9IGV4aXN0aW5nUmVjaXBlc1xuICAgICAgICAubWFwKHIgPT4gcGFyc2VJbnQoci5pZCkpXG4gICAgICAgIC5maWx0ZXIoaWQgPT4gIWlzTmFOKGlkKSAmJiBpZCA+IDAgJiYgaWQgPCAxMDAwMCkgLy8gT25seSB1c2UgcmVhc29uYWJsZSBudW1lcmljIElEcyAoMS05OTk5KSwgbm90IHRpbWVzdGFtcHNcbiAgICAgIFxuICAgICAgaWYgKG51bWVyaWNJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBuZXh0SWQgPSBNYXRoLm1heCguLi5udW1lcmljSWRzKSArIDFcbiAgICAgICAgY29uc29sZS5sb2coYPCflI0gRm91bmQgbnVtZXJpYyBJRHM6IFske251bWVyaWNJZHMuam9pbignLCAnKX1dLCB1c2luZyBuZXh0SWQ6ICR7bmV4dElkfWApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+UjSBObyB2YWxpZCBudW1lcmljIElEcyBmb3VuZCwgc3RhcnRpbmcgZnJvbTogJHtuZXh0SWR9YClcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlY2lwZXMubWFwKHJlY2lwZSA9PiB7XG4gICAgICBpZiAoIXJlY2lwZS5pZCB8fCByZWNpcGUuaWQgPT09ICcnKSB7XG4gICAgICAgIGNvbnN0IG5ld0lkID0gbmV4dElkLnRvU3RyaW5nKClcbiAgICAgICAgY29uc29sZS5sb2coYPCfhpQgQXNzaWduaW5nIElEICR7bmV3SWR9IHRvIHJlY2lwZTogJHtyZWNpcGUudGl0bGV9YClcbiAgICAgICAgbmV4dElkKytcbiAgICAgICAgcmV0dXJuIHsgLi4ucmVjaXBlLCBpZDogbmV3SWQgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlY2lwZVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogU2F2ZSByZWNpcGVzIHRvIGRhdGFiYXNlICh1c2luZyBvbmx5IGV4aXN0aW5nIGNvbHVtbnMpXG4gICAqL1xuICBhc3luYyBzYXZlUmVjaXBlcyhyZWNpcGVzOiBSZWNpcGVbXSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+SviBBdHRlbXB0aW5nIHRvIHNhdmUgJHtyZWNpcGVzLmxlbmd0aH0gcmVjaXBlcy4uLmApXG4gICAgICBcbiAgICAgIC8vIEFzc2lnbiB1bmlxdWUgSURzIHRvIHJlY2lwZXMgdGhhdCBkb24ndCBoYXZlIG9uZVxuICAgICAgY29uc3QgcmVjaXBlc1dpdGhJZHMgPSBhd2FpdCB0aGlzLmFzc2lnblVuaXF1ZUlkcyhyZWNpcGVzKVxuICAgICAgXG4gICAgICAvLyBGaWx0ZXIgcmVjaXBlcyB0byBvbmx5IGluY2x1ZGUgY29sdW1ucyB0aGF0IGV4aXN0IGluIHRoZSBkYXRhYmFzZVxuICAgICAgY29uc3QgZmlsdGVyZWRSZWNpcGVzID0gcmVjaXBlc1dpdGhJZHMubWFwKHJlY2lwZSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkUmVjaXBlOiBhbnkgPSB7XG4gICAgICAgICAgaWQ6IHJlY2lwZS5pZCxcbiAgICAgICAgICB0aXRsZTogcmVjaXBlLnRpdGxlLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiByZWNpcGUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgY2Fsb3JpZXM6IHJlY2lwZS5jYWxvcmllcyB8fCAwLFxuICAgICAgICAgIHByb3RlaW46IHJlY2lwZS5wcm90ZWluIHx8IDAsXG4gICAgICAgICAgY2FyYnM6IHJlY2lwZS5jYXJicyB8fCAwLFxuICAgICAgICAgIGZhdDogcmVjaXBlLmZhdCB8fCAwLFxuICAgICAgICAgIGZpYmVyOiByZWNpcGUuZmliZXIgfHwgMCxcbiAgICAgICAgICBrZXl3b3JkczogcmVjaXBlLmtleXdvcmRzLFxuICAgICAgICAgIGluZ3JlZGllbnRzOiByZWNpcGUuaW5ncmVkaWVudHMsXG4gICAgICAgICAgaW5zdHJ1Y3Rpb25zOiByZWNpcGUuaW5zdHJ1Y3Rpb25zLFxuICAgICAgICAgIHNlcnZpbmdzOiByZWNpcGUuc2VydmluZ3MgfHwgMixcbiAgICAgICAgICBkaWZmaWN1bHR5OiByZWNpcGUuZGlmZmljdWx0eSB8fCAnTmVtJyxcbiAgICAgICAgICBhdXRob3I6IHJlY2lwZS5hdXRob3IgfHwgJ0Z1bmN0aW9uYWwgRm9vZHMnXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBvcHRpb25hbCBmaWVsZHMgaWYgdGhleSBleGlzdCAob25seSBpbmNsdWRlIGNvbHVtbnMgd2Uga25vdyBleGlzdClcbiAgICAgICAgaWYgKHJlY2lwZS5zbHVnKSBmaWx0ZXJlZFJlY2lwZS5zbHVnID0gcmVjaXBlLnNsdWdcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBkZWZhdWx0IHZhbHVlcyBmb3IgZmllbGRzIHRoYXQgZnJvbnRlbmQgZXhwZWN0cyBidXQgZG9uJ3QgZXhpc3QgaW4gZGF0YWJhc2VcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUuc2hvcnRkZXNjcmlwdGlvbiA9IHJlY2lwZS5zaG9ydERlc2NyaXB0aW9uIHx8IG51bGxcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUucHJlcGFyYXRpb250aW1lID0gcmVjaXBlLnByZXBhcmF0aW9uVGltZSB8fCAwXG4gICAgICAgIGZpbHRlcmVkUmVjaXBlLmNvb2tpbmd0aW1lID0gcmVjaXBlLmNvb2tpbmdUaW1lIHx8IDBcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUudG90YWx0aW1lID0gcmVjaXBlLnRvdGFsVGltZSB8fCAocmVjaXBlLnByZXBhcmF0aW9uVGltZSB8fCAwKSArIChyZWNpcGUuY29va2luZ1RpbWUgfHwgMClcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUubWV0YXRpdGxlID0gcmVjaXBlLm1ldGFUaXRsZSB8fCBudWxsXG4gICAgICAgIGZpbHRlcmVkUmVjaXBlLm1ldGFkZXNjcmlwdGlvbiA9IHJlY2lwZS5tZXRhRGVzY3JpcHRpb24gfHwgbnVsbFxuICAgICAgICBmaWx0ZXJlZFJlY2lwZS5tYWluY2F0ZWdvcnkgPSByZWNpcGUubWFpbkNhdGVnb3J5IHx8IG51bGxcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUuc3ViY2F0ZWdvcmllcyA9IHJlY2lwZS5zdWJDYXRlZ29yaWVzIHx8IG51bGxcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUuZGlldGFyeWNhdGVnb3JpZXMgPSByZWNpcGUuZGlldGFyeUNhdGVnb3JpZXMgJiYgcmVjaXBlLmRpZXRhcnlDYXRlZ29yaWVzLmxlbmd0aCA+IDAgPyByZWNpcGUuZGlldGFyeUNhdGVnb3JpZXMgOiBudWxsXG4gICAgICAgIGZpbHRlcmVkUmVjaXBlLmltYWdldXJsID0gcmVjaXBlLmltYWdlVXJsIHx8ICcvaW1hZ2VzL3JlY2lwZS1wbGFjZWhvbGRlci5qcGcnXG4gICAgICAgIGZpbHRlcmVkUmVjaXBlLmltYWdlYWx0ID0gcmVjaXBlLmltYWdlQWx0IHx8IG51bGxcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUucHVibGlzaGVkYXQgPSByZWNpcGUucHVibGlzaGVkQXQgPyAodHlwZW9mIHJlY2lwZS5wdWJsaXNoZWRBdCA9PT0gJ3N0cmluZycgPyByZWNpcGUucHVibGlzaGVkQXQgOiByZWNpcGUucHVibGlzaGVkQXQudG9JU09TdHJpbmcoKSkgOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUudXBkYXRlZGF0ID0gcmVjaXBlLnVwZGF0ZWRBdCA/ICh0eXBlb2YgcmVjaXBlLnVwZGF0ZWRBdCA9PT0gJ3N0cmluZycgPyByZWNpcGUudXBkYXRlZEF0IDogcmVjaXBlLnVwZGF0ZWRBdC50b0lTT1N0cmluZygpKSA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICBmaWx0ZXJlZFJlY2lwZS5yYXRpbmcgPSByZWNpcGUucmF0aW5nIHx8IG51bGxcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUucmV2aWV3Y291bnQgPSByZWNpcGUucmV2aWV3Q291bnQgfHwgbnVsbFxuICAgICAgICBmaWx0ZXJlZFJlY2lwZS5wcmVwdGltZWlzbyA9IHJlY2lwZS5wcmVwVGltZUlTTyB8fCBudWxsXG4gICAgICAgIGZpbHRlcmVkUmVjaXBlLmNvb2t0aW1laXNvID0gcmVjaXBlLmNvb2tUaW1lSVNPIHx8IG51bGxcbiAgICAgICAgZmlsdGVyZWRSZWNpcGUudG90YWx0aW1laXNvID0gcmVjaXBlLnRvdGFsVGltZUlTTyB8fCBudWxsXG4gICAgICAgIC8vIE5vdGU6IG51dHJpdGlvbmFsaW5mbyBjb2x1bW4gZG9lc24ndCBleGlzdCB5ZXQgLSBzdG9yZSBpbiBkZXNjcmlwdGlvbiBmb3Igbm93XG4gICAgICAgIGlmIChyZWNpcGUubnV0cml0aW9uYWxJbmZvKSB7XG4gICAgICAgICAgZmlsdGVyZWRSZWNpcGUuZGVzY3JpcHRpb24gPSByZWNpcGUuZGVzY3JpcHRpb24gKyBgIFtGcmlkYSBEVFU6ICR7TWF0aC5yb3VuZChyZWNpcGUubnV0cml0aW9uYWxJbmZvLmNhbG9yaWVzKX0gY2FsLCAke01hdGgucm91bmQocmVjaXBlLm51dHJpdGlvbmFsSW5mby5wcm90ZWluKX1nIHByb3RlaW5dYFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZWNpcGVcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIExvZyB0aGUgZmlyc3QgcmVjaXBlIHN0cnVjdHVyZSBmb3IgZGVidWdnaW5nXG4gICAgICBpZiAoZmlsdGVyZWRSZWNpcGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk4sgRmlyc3QgZmlsdGVyZWQgcmVjaXBlIHN0cnVjdHVyZTonLCBKU09OLnN0cmluZ2lmeShmaWx0ZXJlZFJlY2lwZXNbMF0sIG51bGwsIDIpKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncmVjaXBlcycpXG4gICAgICAgIC5pbnNlcnQoZmlsdGVyZWRSZWNpcGVzKVxuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHNhdmluZyByZWNpcGVzOicsIGVycm9yKVxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOicsIHsgXG4gICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwgXG4gICAgICAgICAgZGV0YWlsczogZXJyb3IuZGV0YWlscywgXG4gICAgICAgICAgaGludDogZXJyb3IuaGludCwgXG4gICAgICAgICAgY29kZTogZXJyb3IuY29kZSBcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgU3VjY2Vzc2Z1bGx5IHNhdmVkICR7cmVjaXBlcy5sZW5ndGh9IHJlY2lwZXMgdG8gZGF0YWJhc2VgKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFeGNlcHRpb24gc2F2aW5nIHJlY2lwZXM6JywgZXJyKVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgaW5ncmVkaWVudHMgdG8gZGF0YWJhc2UgKHVzaW5nIG9ubHkgZXhpc3RpbmcgY29sdW1ucylcbiAgICovXG4gIGFzeW5jIHNhdmVJbmdyZWRpZW50cyhpbmdyZWRpZW50czogSW5ncmVkaWVudFRhZ1tdKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5K+IEF0dGVtcHRpbmcgdG8gc2F2ZSAke2luZ3JlZGllbnRzLmxlbmd0aH0gaW5ncmVkaWVudHMuLi5gKVxuICAgICAgXG4gICAgICAvLyBGaWx0ZXIgaW5ncmVkaWVudHMgdG8gb25seSBpbmNsdWRlIGNvbHVtbnMgdGhhdCBleGlzdCBpbiB0aGUgZGF0YWJhc2VcbiAgICAgIGNvbnN0IGZpbHRlcmVkSW5ncmVkaWVudHMgPSBpbmdyZWRpZW50cy5tYXAoaW5ncmVkaWVudCA9PiB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkSW5ncmVkaWVudDogYW55ID0ge1xuICAgICAgICAgIGlkOiBpbmdyZWRpZW50LmlkLFxuICAgICAgICAgIG5hbWU6IGluZ3JlZGllbnQubmFtZSxcbiAgICAgICAgICBjYXRlZ29yeTogaW5ncmVkaWVudC5jYXRlZ29yeSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogaW5ncmVkaWVudC5kZXNjcmlwdGlvblxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgb3B0aW9uYWwgZmllbGRzIGlmIHRoZXkgZXhpc3QgKG9ubHkgaW5jbHVkZSBjb2x1bW5zIHdlIGtub3cgZXhpc3QpXG4gICAgICAgIGlmIChpbmdyZWRpZW50LmV4Y2x1c2lvbnMpIGZpbHRlcmVkSW5ncmVkaWVudC5leGNsdXNpb25zID0gaW5ncmVkaWVudC5leGNsdXNpb25zXG4gICAgICAgIGlmIChpbmdyZWRpZW50LmFsbGVyZ2VucykgZmlsdGVyZWRJbmdyZWRpZW50LmFsbGVyZ2VucyA9IGluZ3JlZGllbnQuYWxsZXJnZW5zXG4gICAgICAgIC8vIE5vdGU6IGNvbW1vbk5hbWVzLCBpc0FjdGl2ZSwgY3JlYXRlZEF0LCB1cGRhdGVkQXQsIG51dHJpdGlvbmFsSW5mbyBjb2x1bW5zIGRvbid0IGV4aXN0IGluIHRoZSBkYXRhYmFzZVxuICAgICAgICAvLyBzbyB3ZSBleGNsdWRlIHRoZW0gdG8gcHJldmVudCBlcnJvcnNcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBmaWx0ZXJlZEluZ3JlZGllbnRcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIC8vIExvZyB0aGUgZmlyc3QgaW5ncmVkaWVudCBzdHJ1Y3R1cmUgZm9yIGRlYnVnZ2luZ1xuICAgICAgaWYgKGZpbHRlcmVkSW5ncmVkaWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBGaXJzdCBmaWx0ZXJlZCBpbmdyZWRpZW50IHN0cnVjdHVyZTonLCBKU09OLnN0cmluZ2lmeShmaWx0ZXJlZEluZ3JlZGllbnRzWzBdLCBudWxsLCAyKSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2luZ3JlZGllbnRzJylcbiAgICAgICAgLnVwc2VydChmaWx0ZXJlZEluZ3JlZGllbnRzLCB7IG9uQ29uZmxpY3Q6ICdpZCcgfSlcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBzYXZpbmcgaW5ncmVkaWVudHM6JywgZXJyb3IpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRldGFpbHM6JywgeyBcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLCBcbiAgICAgICAgICBkZXRhaWxzOiBlcnJvci5kZXRhaWxzLCBcbiAgICAgICAgICBoaW50OiBlcnJvci5oaW50LCBcbiAgICAgICAgICBjb2RlOiBlcnJvci5jb2RlIFxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYOKchSBTdWNjZXNzZnVsbHkgc2F2ZWQgJHtpbmdyZWRpZW50cy5sZW5ndGh9IGluZ3JlZGllbnRzIHRvIGRhdGFiYXNlYClcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRXhjZXB0aW9uIHNhdmluZyBpbmdyZWRpZW50czonLCBlcnIpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgZGF0YWJhc2UgdGFibGVzIGV4aXN0XG4gICAqL1xuICBhc3luYyBjaGVja0RhdGFiYXNlU3RydWN0dXJlKCk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIENoZWNraW5nIGRhdGFiYXNlIHN0cnVjdHVyZS4uLicpXG4gICAgICBcbiAgICAgIC8vIFRlc3QgaWYgdGFibGVzIGV4aXN0XG4gICAgICBjb25zdCB7IGRhdGE6IHJlY2lwZXNUYWJsZSwgZXJyb3I6IHJlY2lwZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3JlY2lwZXMnKVxuICAgICAgICAuc2VsZWN0KCdjb3VudCcsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhOiBpbmdyZWRpZW50c1RhYmxlLCBlcnJvcjogaW5ncmVkaWVudHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2luZ3JlZGllbnRzJylcbiAgICAgICAgLnNlbGVjdCgnY291bnQnLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICBcbiAgICAgIGNvbnN0IHN0cnVjdHVyZSA9IHtcbiAgICAgICAgcmVjaXBlc1RhYmxlOiB7XG4gICAgICAgICAgZXhpc3RzOiAhcmVjaXBlc0Vycm9yLFxuICAgICAgICAgIGVycm9yOiByZWNpcGVzRXJyb3I/Lm1lc3NhZ2UgfHwgbnVsbFxuICAgICAgICB9LFxuICAgICAgICBpbmdyZWRpZW50c1RhYmxlOiB7XG4gICAgICAgICAgZXhpc3RzOiAhaW5ncmVkaWVudHNFcnJvcixcbiAgICAgICAgICBlcnJvcjogaW5ncmVkaWVudHNFcnJvcj8ubWVzc2FnZSB8fCBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogRGF0YWJhc2Ugc3RydWN0dXJlIGNoZWNrOicsIHN0cnVjdHVyZSlcbiAgICAgIHJldHVybiBzdHJ1Y3R1cmVcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBjaGVja2luZyBkYXRhYmFzZSBzdHJ1Y3R1cmU6JywgZXJyKVxuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVyciB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkYXRhYmFzZSBzdGF0aXN0aWNzXG4gICAqL1xuICBhc3luYyBnZXREYXRhYmFzZVN0YXRzKCk6IFByb21pc2U8eyByZWNpcGVDb3VudDogbnVtYmVyOyBpbmdyZWRpZW50Q291bnQ6IG51bWJlciB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgY291bnQ6IHJlY2lwZUNvdW50LCBlcnJvcjogcmVjaXBlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdyZWNpcGVzJylcbiAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgIFxuICAgICAgY29uc3QgeyBjb3VudDogaW5ncmVkaWVudENvdW50LCBlcnJvcjogaW5ncmVkaWVudEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnaW5ncmVkaWVudHMnKVxuICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxuICAgICAgXG4gICAgICBpZiAocmVjaXBlRXJyb3IgfHwgaW5ncmVkaWVudEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRhdGFiYXNlIHN0YXRzOicsIHJlY2lwZUVycm9yIHx8IGluZ3JlZGllbnRFcnJvcilcbiAgICAgICAgcmV0dXJuIHsgcmVjaXBlQ291bnQ6IDAsIGluZ3JlZGllbnRDb3VudDogMCB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB7IHJlY2lwZUNvdW50OiByZWNpcGVDb3VudCB8fCAwLCBpbmdyZWRpZW50Q291bnQ6IGluZ3JlZGllbnRDb3VudCB8fCAwIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBnZXR0aW5nIGRhdGFiYXNlIHN0YXRzOicsIGVycilcbiAgICAgIHJldHVybiB7IHJlY2lwZUNvdW50OiAwLCBpbmdyZWRpZW50Q291bnQ6IDAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb25cbiAgICovXG4gIGFzeW5jIHRlc3RDb25uZWN0aW9uKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBUZXN0aW5nIFN1cGFiYXNlIGNvbm5lY3Rpb24uLi4nKVxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbSgncmVjaXBlcycpLnNlbGVjdCgnY291bnQnLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIENvbm5lY3Rpb24gdGVzdCBmYWlsZWQ6JywgZXJyb3IpXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coJ+KchSBTdXBhYmFzZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwhJylcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQ29ubmVjdGlvbiB0ZXN0IGV4Y2VwdGlvbjonLCBlcnIpXG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGRhdGFiYXNlU2VydmljZSA9IG5ldyBEYXRhYmFzZVNlcnZpY2UoKSAiXSwibmFtZXMiOlsic3VwYWJhc2UiLCJEYXRhYmFzZVNlcnZpY2UiLCJnZXRSZWNpcGVzIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJpZCIsInRpdGxlIiwiaW1hZ2V1cmwiLCJ0b3RhbHRpbWUiLCJ0cmFuc2Zvcm1lZFJlY2lwZXMiLCJtYXAiLCJyZWNpcGUiLCJkZXNjcmlwdGlvbiIsInNob3J0RGVzY3JpcHRpb24iLCJzaG9ydGRlc2NyaXB0aW9uIiwiaW1hZ2VVcmwiLCJpbWFnZUFsdCIsImltYWdlYWx0IiwicHJlcGFyYXRpb25UaW1lIiwicHJlcGFyYXRpb250aW1lIiwiY29va2luZ1RpbWUiLCJjb29raW5ndGltZSIsInRvdGFsVGltZSIsInNlcnZpbmdzIiwiZGlmZmljdWx0eSIsImNhbG9yaWVzIiwicHJvdGVpbiIsImNhcmJzIiwiZmF0IiwiZmliZXIiLCJkaWV0YXJ5Q2F0ZWdvcmllcyIsImRpZXRhcnljYXRlZ29yaWVzIiwibWFpbkNhdGVnb3J5IiwibWFpbmNhdGVnb3J5Iiwic3ViQ2F0ZWdvcmllcyIsInN1YmNhdGVnb3JpZXMiLCJpbmdyZWRpZW50cyIsImluc3RydWN0aW9ucyIsInB1Ymxpc2hlZEF0IiwicHVibGlzaGVkYXQiLCJEYXRlIiwidXBkYXRlZEF0IiwidXBkYXRlZGF0IiwibWV0YVRpdGxlIiwibWV0YXRpdGxlIiwibWV0YURlc2NyaXB0aW9uIiwibWV0YWRlc2NyaXB0aW9uIiwia2V5d29yZHMiLCJhdXRob3IiLCJzbHVnIiwicmF0aW5nIiwicmV2aWV3Q291bnQiLCJyZXZpZXdjb3VudCIsInByZXBUaW1lSVNPIiwicHJlcHRpbWVpc28iLCJjb29rVGltZUlTTyIsImNvb2t0aW1laXNvIiwidG90YWxUaW1lSVNPIiwidG90YWx0aW1laXNvIiwiZ2V0SW5ncmVkaWVudHMiLCJ0cmFuc2Zvcm1lZEluZ3JlZGllbnRzIiwiaW5ncmVkaWVudCIsIm5hbWUiLCJjYXRlZ29yeSIsImV4Y2x1c2lvbnMiLCJhbGxlcmdlbnMiLCJjb21tb25OYW1lcyIsImNvbW1vbl9uYW1lcyIsImlzQWN0aXZlIiwiaXNfYWN0aXZlIiwiY3JlYXRlZEF0IiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJhc3NpZ25VbmlxdWVJZHMiLCJyZWNpcGVzIiwibmV4dElkIiwiZXhpc3RpbmdSZWNpcGVzIiwibnVtZXJpY0lkcyIsInIiLCJwYXJzZUludCIsImZpbHRlciIsImlzTmFOIiwiTWF0aCIsIm1heCIsImpvaW4iLCJuZXdJZCIsInRvU3RyaW5nIiwic2F2ZVJlY2lwZXMiLCJyZWNpcGVzV2l0aElkcyIsImZpbHRlcmVkUmVjaXBlcyIsImZpbHRlcmVkUmVjaXBlIiwidG9JU09TdHJpbmciLCJudXRyaXRpb25hbEluZm8iLCJyb3VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJpbnNlcnQiLCJtZXNzYWdlIiwiZGV0YWlscyIsImhpbnQiLCJjb2RlIiwiZXJyIiwic2F2ZUluZ3JlZGllbnRzIiwiZmlsdGVyZWRJbmdyZWRpZW50cyIsImZpbHRlcmVkSW5ncmVkaWVudCIsInVwc2VydCIsIm9uQ29uZmxpY3QiLCJjaGVja0RhdGFiYXNlU3RydWN0dXJlIiwicmVjaXBlc1RhYmxlIiwicmVjaXBlc0Vycm9yIiwiY291bnQiLCJoZWFkIiwiaW5ncmVkaWVudHNUYWJsZSIsImluZ3JlZGllbnRzRXJyb3IiLCJzdHJ1Y3R1cmUiLCJleGlzdHMiLCJnZXREYXRhYmFzZVN0YXRzIiwicmVjaXBlQ291bnQiLCJyZWNpcGVFcnJvciIsImluZ3JlZGllbnRDb3VudCIsImluZ3JlZGllbnRFcnJvciIsInRlc3RDb25uZWN0aW9uIiwiZGF0YWJhc2VTZXJ2aWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/database-service.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://najaxycfjgultwdwffhv.supabase.co\";\nconst supabaseAnonKey = \"sb_publishable_7Vz1i0EKTMPNw0ldFMIScQ_qX_iHMKI\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW9EO0FBRXBELE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsa0JBQWtCO0FBRWpCLE1BQU1DLFdBQVdILG1FQUFZQSxDQUFDQyxhQUFhQyxpQkFBZ0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mdW5jdGlvbmFsZm9vZHMvLi9zcmMvbGliL3N1cGFiYXNlLnRzPzA2ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG5jb25zdCBzdXBhYmFzZVVybCA9ICdodHRwczovL25hamF4eWNmamd1bHR3ZHdmZmh2LnN1cGFiYXNlLmNvJ1xuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gJ3NiX3B1Ymxpc2hhYmxlXzdWejFpMEVLVE1QTncwbGRGTUlTY1FfcVhfaUhNS0knXG5cbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KSAiXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJzdXBhYmFzZUFub25LZXkiLCJzdXBhYmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frecipes%2Froute&page=%2Fapi%2Frecipes%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frecipes%2Froute.ts&appDir=%2FUsers%2Fnicolaivarney%2FSites2%2Ffunctionalfoods%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fnicolaivarney%2FSites2%2Ffunctionalfoods&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();